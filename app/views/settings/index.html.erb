<div class="container mx-auto">
    <%= link_to new_setting_path do %>
        <div class="font-bold bg-blue-500 text-white w-28 text-center py-1 rounded mb-4">
            <p>Create</p>
        </div>
    <% end %>
    <div class="overflow-x-auto bg-white rounded-lg shadow overflow-y-auto relative mb-4">
        <table class="border-collapse table-auto w-full whitespace-no-wrap bg-white table-striped relative">
            <thead>
                <tr class="text-left">
                    <th class="bg-blue-100 sticky top-0 p-2 border-b border-gray-200">Tool</th>
                    <th class="bg-blue-100 sticky top-0 p-2 border-b border-gray-200">Machine</th>
                    <th class="bg-blue-100 sticky top-0 p-2 border-b border-gray-200">Process</th>
                    <th class="bg-blue-100 sticky top-0 p-2 border-b border-gray-200">Site</th>
                    <th class="bg-blue-100 sticky top-0 p-2 border-b border-gray-200">Versions</th>
                </tr>
            </thead>
            <tbody>
                <% @settings.each do |setting| %>
                    <tr class="hover:bg-gray-100 cursor-pointer" data-controller="settings-table-row" data-action="click->settings-table-row#goToSetting" data-settings-table-row-setting-url-value="<%= setting_path(setting) %>">
                        <td class="p-2 border-b border-gray-200">
                            <%= setting.tool.name %>
                        </td>
                        <td class="p-2 border-b border-gray-200">
                            <%= setting.machine.machine_name %>
                        </td>
                        <td class="p-2 border-b border-gray-200">
                            <% if setting.machine.machine_type == "Injection Moulding Machine" %>
                                Moulding
                            <% elsif setting.machine.machine_type == "Extrusion Line" %>
                                Extrusion
                            <% end %>
                        </td>
                        <td class="p-2 border-b border-gray-200">
                            <%= setting.machine.site.site_name %>
                        </td>
                        <td class="p-2 border-b border-gray-200">
                            <%= setting.versions.count %>
                        </td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>
</div>
